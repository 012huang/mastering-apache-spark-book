== [[SQLTab]] SQL Tab

*SQL* tab in link:spark-webui.adoc[web UI] displays accumulator values per operator.

The title of the tab is *SQL*.

You can access the SQL tab under `/SQL` URL, i.e. http://localhost:4040/SQL/.

=== [[AllExecutionsPage]] AllExecutionsPage

`AllExecutionsPage` is a web page (section) that is registered with the link:spark-webui-sql.adoc[SQL Tab] that <<render, displays all queries in a Spark application>>.

.SQL Tab in web UI
image::images/spark-webui-sql.png[align="center"]

==== [[render]] Rendering AllExecutionsPage (render method)

=== [[ExecutionPage]] ExecutionPage

The mandatory `id` request parameter denotes the query execution to display metrics for (as a graph).

.Details for SQL Query in web UI
image::images/spark-webui-sql-execution-graph.png[align="center"]

It uses link:spark-sql-sqlcontext.adoc#SQLListener[SQLListener] to get the metrics.

CAUTION: FIXME Anything else `ExecutionPage` needs to render itself?

==== [[render]] Rendering ExecutionPage (render method)

CAUTION: FIXME Elaborate

`render` requests link:spark-sql-sqlcontext.adoc#SQLListener-getExecutionMetrics[`SQLListener` for execution metrics] (given the `id` request parameter).

NOTE: Execution metrics is a collection of...FIXME

=== [[creating-instance]] Creating SQLTab Instance

`SQLTab` is created when link:spark-sql-sparksession.adoc#SharedState[SharedState] is or at the first `SparkListenerSQLExecutionStart` event when link:spark-HistoryServer.adoc[Spark History Server] is used.

.Creating SQLTab Instance
image::images/spark-SQLTab-creating-instance.png[align="center"]

NOTE: `SharedState` represents the shared state across all active SQL sessions.

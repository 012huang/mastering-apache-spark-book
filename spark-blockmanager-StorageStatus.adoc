== [[StorageStatus]] StorageStatus

`StorageStatus` is a developer API that Spark uses to pass "just enough" information about registered link:spark-blockmanager.adoc[BlockManagers] in a Spark application between Spark services (mostly for monitoring purposes like link:spark-webui.adoc[web UI] or link:spark-SparkListener.adoc[SparkListeners]).

[NOTE]
====
There are two ways to access `StorageStatus` about all the known `BlockManagers` in a Spark application:

* link:spark-sparkcontext.adoc#getExecutorStorageStatus[SparkContext.getExecutorStorageStatus]

* Being a link:spark-SparkListener.adoc[SparkListener] and intercepting link:spark-SparkListener.adoc#onBlockManagerAdded[onBlockManagerAdded] and link:spark-SparkListener.adoc#onBlockManagerRemoved[onBlockManagerRemoved] events
====

`StorageStatus` is <<creating-instance, created>> when:

* `BlockManagerMasterEndpoint` link:spark-blockmanager-BlockManagerMasterEndpoint.adoc#storageStatus[is requested for storage status] (of every link:spark-blockmanager.adoc[BlockManager] in a Spark application)

* `StorageStatusListener` link:spark-webui-StorageStatusListener.adoc#onBlockManagerAdded[gets notified about a new `BlockManager`] (in a Spark application)

[[internal-registries]]
.StorageStatus's Internal Registries and Counters
[cols="1,2",options="header",width="100%"]
|===
| Name
| Description

| [[FIXME]] `FIXME`
| FIXME

Used when...FIXME
|===

=== [[creating-instance]] Creating StorageStatus Instance

`StorageStatus` takes the following when created:

* [[blockManagerId]] link:spark-blockmanager.adoc#BlockManagerId[BlockManagerId]
* [[maxMem]] Maximum memory -- link:spark-blockmanager.adoc#maxMemory[total available on-heap and off-heap memory for storage on the `BlockManager`]

`StorageStatus` initializes the <<internal-registries, internal registries and counters>>.
